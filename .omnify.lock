{
  "version": 2,
  "updatedAt": "2026-01-22T02:04:59.585Z",
  "driver": "mysql",
  "schemas": {
    "BranchCache": {
      "name": "BranchCache",
      "kind": "object",
      "hash": "65020f2149799983b005ed5ba702be0668261cbf73647a04797f316275c32478",
      "relativePath": "BranchCache.yaml",
      "modifiedAt": "2026-01-22T02:04:59.083Z",
      "properties": {
        "console_branch_id": {
          "type": "Uuid",
          "unique": true
        },
        "console_org_id": {
          "type": "Uuid"
        },
        "code": {
          "type": "String",
          "length": 20
        },
        "name": {
          "type": "String",
          "length": 100
        },
        "is_headquarters": {
          "type": "Boolean",
          "default": false
        },
        "is_active": {
          "type": "Boolean",
          "default": true
        }
      },
      "idType": "Uuid",
      "timestamps": true,
      "softDelete": true,
      "indexes": [
        {
          "columns": [
            "console_org_id"
          ],
          "unique": false
        },
        {
          "columns": [
            "console_org_id",
            "code"
          ],
          "unique": true
        },
        {
          "columns": [
            "console_org_id",
            "is_active"
          ],
          "unique": false
        },
        {
          "columns": [
            "console_org_id",
            "is_headquarters"
          ],
          "unique": false
        }
      ]
    },
    "OrganizationCache": {
      "name": "OrganizationCache",
      "kind": "object",
      "hash": "c6c6135491e5e6e230a71128e0eb40afb65e5ee9eaa98c8fda81ddfbbd53d58a",
      "relativePath": "OrganizationCache.yaml",
      "modifiedAt": "2026-01-22T02:04:59.082Z",
      "properties": {
        "console_org_id": {
          "type": "Uuid",
          "unique": true
        },
        "name": {
          "type": "String",
          "length": 100
        },
        "code": {
          "type": "String",
          "length": 20
        },
        "is_active": {
          "type": "Boolean",
          "default": true
        }
      },
      "idType": "Uuid",
      "timestamps": true,
      "softDelete": true,
      "indexes": [
        {
          "columns": [
            "code"
          ],
          "unique": true
        }
      ]
    },
    "Permission": {
      "name": "Permission",
      "kind": "object",
      "hash": "2a2c4bf6d98122f87cf1a0ef1ff352bcab6958ee085fdfc96aeff68bfb80bda9",
      "relativePath": "Permission.yaml",
      "modifiedAt": "2026-01-22T02:04:59.083Z",
      "properties": {
        "name": {
          "type": "String",
          "unique": true,
          "length": 100
        },
        "slug": {
          "type": "String",
          "unique": true,
          "length": 100
        },
        "group": {
          "type": "String",
          "nullable": true,
          "length": 50
        },
        "roles": {
          "type": "Association",
          "relation": "ManyToMany",
          "target": "Role",
          "joinTable": "role_permissions"
        }
      },
      "idType": "Uuid",
      "timestamps": true
    },
    "Role": {
      "name": "Role",
      "kind": "object",
      "hash": "7e4828017d3ec814a5515b133eb26a432fed2e17686923d15bc14207060f50f9",
      "relativePath": "Role.yaml",
      "modifiedAt": "2026-01-22T02:04:59.082Z",
      "properties": {
        "name": {
          "type": "String",
          "unique": true,
          "length": 100
        },
        "slug": {
          "type": "String",
          "unique": true,
          "length": 100
        },
        "description": {
          "type": "Text",
          "nullable": true
        },
        "level": {
          "type": "Int",
          "default": 0
        },
        "permissions": {
          "type": "Association",
          "relation": "ManyToMany",
          "target": "Permission",
          "joinTable": "role_permissions"
        }
      },
      "idType": "Uuid",
      "timestamps": true
    },
    "RolePermission": {
      "name": "RolePermission",
      "kind": "object",
      "hash": "3612d5985a35975511f239b3b966fd1a94afaaf7fbba3fc7de64f5335ded1f1c",
      "relativePath": "RolePermission.yaml",
      "modifiedAt": "2026-01-22T02:04:59.083Z",
      "properties": {
        "role": {
          "type": "Association",
          "relation": "ManyToOne",
          "target": "Role"
        },
        "permission": {
          "type": "Association",
          "relation": "ManyToOne",
          "target": "Permission"
        }
      },
      "id": false,
      "timestamps": true,
      "uniqueConstraints": [
        [
          "role",
          "permission"
        ]
      ]
    },
    "TeamCache": {
      "name": "TeamCache",
      "kind": "object",
      "hash": "810e4f127bc7a94b0dff97f63fa5bf75df13ab69af42b066e6e65501e0a9075d",
      "relativePath": "TeamCache.yaml",
      "modifiedAt": "2026-01-22T02:04:59.082Z",
      "properties": {
        "console_team_id": {
          "type": "Uuid",
          "unique": true
        },
        "console_org_id": {
          "type": "Uuid"
        },
        "name": {
          "type": "String",
          "length": 100
        }
      },
      "idType": "Uuid",
      "timestamps": true,
      "softDelete": true,
      "indexes": [
        {
          "columns": [
            "console_org_id"
          ],
          "unique": false
        }
      ]
    },
    "TeamPermission": {
      "name": "TeamPermission",
      "kind": "object",
      "hash": "bda165f9694ae91dc1e968035a376bd6f2e11699ea8a81acefe3a9e785947edb",
      "relativePath": "TeamPermission.yaml",
      "modifiedAt": "2026-01-22T02:04:59.083Z",
      "properties": {
        "console_org_id": {
          "type": "Uuid"
        },
        "console_team_id": {
          "type": "Uuid"
        },
        "permission": {
          "type": "Association",
          "relation": "ManyToOne",
          "target": "Permission"
        }
      },
      "idType": "Uuid",
      "timestamps": true,
      "softDelete": true,
      "indexes": [
        {
          "columns": [
            "console_org_id",
            "console_team_id"
          ],
          "unique": false
        }
      ]
    },
    "UserCache": {
      "name": "UserCache",
      "kind": "object",
      "hash": "02e694d379adbd51616eca28e54ce728acbddcedd77b84bcdad0ce8b48fa694b",
      "relativePath": "UserCache.yaml",
      "modifiedAt": "2026-01-22T02:04:59.083Z",
      "properties": {
        "name": {
          "type": "String"
        },
        "email": {
          "type": "String",
          "unique": true
        },
        "console_user_id": {
          "type": "Uuid",
          "nullable": true,
          "unique": true
        },
        "console_access_token": {
          "type": "Text",
          "nullable": true
        },
        "console_refresh_token": {
          "type": "Text",
          "nullable": true
        },
        "console_token_expires_at": {
          "type": "Timestamp",
          "nullable": true
        },
        "roles": {
          "type": "Association",
          "relation": "ManyToMany",
          "target": "Role",
          "joinTable": "role_user_cache",
          "pivotFields": {
            "console_org_id": {
              "type": "String",
              "length": 36,
              "nullable": true,
              "displayName": {
                "ja": "組織ID",
                "en": "Organization ID",
                "vi": "ID tổ chức"
              },
              "description": {
                "ja": "nullの場合はシステム全体に適用（グローバルスコープ）",
                "en": "null means system-wide assignment (global scope)",
                "vi": "null nghĩa là áp dụng toàn hệ thống (phạm vi toàn cục)"
              }
            },
            "console_branch_id": {
              "type": "String",
              "length": 36,
              "nullable": true,
              "displayName": {
                "ja": "ブランチID",
                "en": "Branch ID",
                "vi": "ID chi nhánh"
              },
              "description": {
                "ja": "nullの場合は組織全体に適用（組織スコープ）。指定した場合は該当ブランチのみ（ブランチスコープ）",
                "en": "null means org-wide assignment. When specified, applies only to that branch (branch scope)",
                "vi": "null nghĩa là áp dụng toàn tổ chức. Khi chỉ định, chỉ áp dụng cho chi nhánh đó (phạm vi chi nhánh)"
              }
            }
          }
        }
      },
      "idType": "Uuid",
      "timestamps": true
    }
  },
  "migrations": []
}
